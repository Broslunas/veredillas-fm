---
import Layout from '../layouts/Layout.astro';
---

<Layout 
  title="Calendario" 
  description="Consulta la programación y próximos eventos de Veredillas FM. No te pierdas ningún episodio, entrevista o evento especial del podcast del IES Veredillas."
  image="/logo.png"
  imageAlt="Calendario de Veredillas FM - Programación y eventos"
  tags={['calendario', 'programación', 'eventos', 'IES Veredillas', 'podcast']}
>
    <div class="calendar-page container">
        <header class="page-header gs-fade-up">
            <h1>Programación</h1>
            <p class="subtitle">No te pierdas ningún podcast. Consulta nuestros horarios.</p>
        </header>

        <div class="calendar-wrapper glass-panel gs-fade-up">
            <div class="iframe-container">
                <iframe 
                    src="https://calendar.google.com/calendar/embed?height=600&wkst=2&ctz=Atlantic%2FCanary&showPrint=0&src=MTEyZDg2MzI1YjVhM2IwYjYxZWRkMWRiYmQxYzFjZDM3MzRhYzRiNGIxYTRmM2Y2MjlkYmU5YWQyYjM4MjM0N0Bncm91cC5jYWxlbmRhci5nb29nbGUuY29t&color=%235789FF&showTitle=0&showNav=1&showDate=1&showTabs=1&showCalendars=0" 
                    style="border: 0" >
                </iframe>
            </div>
        </div>
    </div>
</Layout>

<script>
    import { gsap } from "gsap";
    
    document.addEventListener('astro:page-load', () => {
        gsap.from(".gs-fade-up", {
            y: 30,
            opacity: 0,
            duration: 0.8,
            stagger: 0.2,
            ease: "power2.out"
        });
    });
</script>

<style>
    .calendar-page {
        padding-bottom: 6rem;
    }

    .page-header {
        text-align: center;
        margin-bottom: 3rem;
        padding-top: 2rem;
    }

    h1 {
        font-size: clamp(2.5rem, 5vw, 4rem);
        margin-bottom: 1rem;
        background: linear-gradient(135deg, #fff 0%, #a1a1aa 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    .subtitle {
        font-size: 1.25rem;
        color: var(--color-text-muted);
    }

    .calendar-wrapper {
        width: 100%;
        max-width: 1000px;
        margin: 0 auto;
        padding: 1rem;
        border-radius: var(--radius-lg);
        overflow: hidden;
    }

    .iframe-container {
        position: relative;
        padding-bottom: 75%; /* Aspect Ratio */
        height: 0;
        overflow: hidden;
        /* Dark Mode Filter Trick */
        filter: invert(0.92) hue-rotate(180deg) brightness(0.9);
        border-radius: var(--radius-md);
        background: #fff; /* Ensure white base for inversion */
    }

    .iframe-container iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    /* Adjust for Light Mode if needed - removing filter */
    :global([data-theme="light"]) .iframe-container {
        filter: none;
    }

    @media (min-width: 768px) {
        .iframe-container {
            padding-bottom: 600px; /* Fixed height on desktop */
        }
    }
</style>
